# CSS



##  引入方式

- **行内样式**：在某个特定的标签里采用 style **属性**。范围只针对此标签。
- **内嵌样式**（内联样式）：在页面的 head 标签里里采用`<style>`**标签**。范围针对此页面。
- **外链样式**：引入外部样式表 CSS **文件**。这种引入方式又分为两种：
  - 3.1 采用`<link>`标签。例如：`<link rel = "stylesheet" type = "text/css" href = "a.css"></link>`
  - 3.2 采用 import 导入，必须写在`<style>`标签中。然后用类似于`@import url(a.css) ;`这种方式导入。

##  选择器

#### 基本选择器

- 标签选择器：选择的是页面上所有这种类型的标签，所以经常描述“**共性**”，无法描述某一个元素的“个性”。所有的标签都可以是选择器，无论有多少层嵌套都能选中。

  ```css
  p{ font-size:14px; }
  ```

- id 选择器：`#`针对某一个特定的标签来使用，只能使用一次。HTML页面不能出现相同的id。

  ```css
  #mytitle{ border:3px dashed green; }
  ```

- class 选择器：`.`同一个标签可以使用多个类选择器，用**空格**隔开。

  注：JavaScript 要通过 id 属性得到标签，CSS层面尽量不用 id。**类上样式，id 上行为**。

- 通用选择器（通配符）：`*`针对所有的标签都适用（不建议使用），IE 有些版本不支持，增加网站客户端负担。效率不高，如果页面上的标签越多，效率越低，所以页面上不能出现这个选择器。

#### 高级选择器

- 后代选择器：空格隔开。对于`E F`这种格式，表示**所有属于 E 元素后代的 F 元素**，只要是后代就可，不必是儿子，后续还可嵌套class和id选择器。

  ```css
  h3 b .one{
  	color: red;
  }
  ```

- 交集选择器：标签和class或id的交集元素。`div.special`：元素既属于div标签，又属于special的class；`div#special`：元素既属于div标签，又属于special的id。中间无空格，没有后代选择器的嵌套关系，只有相交关系，同属于两类。

- 并集选择器：逗号隔开，三种基本选择器都可以放进来。

  ```css
  p,h1,.title1,#one {
      color: red;
  }
  ```

- 子代选择器：（IE7开始兼容，IE6不兼容），只能选择儿子。

  ```css
  div > p {
      color: red;
  }
  ```

- 相邻兄弟选择器：`div+p` 选中div后面相邻的第一个p
- div~p: 选中的div后面所有的p

#### 伪类选择器

伪类：同一个标签，不同状态有不同的样式。

（1）**静态伪类**：只能用于**超链接**的样式。如下：

- `:link` 超链接点击之前
- `:visited` 链接被访问过之后

PS：以上两种样式，只能用于超链接。

（2）**动态伪类**：针对**所有标签**都适用的样式。如下：

- `:hover` “悬停”：鼠标放到标签上的时候
- `:active` “激活”： 鼠标点击标签，但是不松手时。
- `:focus` 是某个标签获得焦点时的样式（比如某个输入框获得焦点）

**超链接的四种状态**

a标签有4种伪类（即对应四种状态）如下：

- `:link` “链接”：超链接点击之前
- `:visited` “访问过的”：链接被访问过之后
- `:hover` “悬停”：鼠标放到标签上的时候
- `:active` “激活”： 鼠标点击标签，但是不松手时。

在CSS里必须按照这个顺序写，love hate，a:link 、a:visited 、a:hover 、a:active。且一定要将a标签写在前面，将`:link、:visited、:hover、:active`这些伪类写在后面。

**`a{}`和`a:link{}`的区别：**

- `a{}`定义的样式针对所有的超链接(包括锚点)
- `a:link{}`定义的样式针对所有写了href属性的超链接(不包括锚点)

a:link 、a:visited一般一起绑定书写，也可省略在a标签里不用写。	

**思维拓展**：Vue的Element中el-table里面做的选中行的阴影可能底层就是用的hover

#### CSS3选择器

- 属性选择器

## CSS3继承性、层叠性和优先级

**继承性**

- 关于文字样式的属性，都具有继承性。这些属性包括：color、 text-开头的、line-开头的、font-开头的。
- 关于盒子、定位、布局的属性，都不能继承。

**层叠性**

当多个选择器，选择上了某个元素的时候，要按照如下顺序统计权重：

- id 选择器>类选择器、属性选择器、伪类选择器>标签选择器、伪元素选择器

- 行级样式 > 内嵌样式表 > 外部样式表（就近原则）

**例：**所有人当中一个为红其他为蓝。

为了达到这种效果，即为了防止权重不够，比较稳妥的做法是：把第二个样式表照着第一个样式表来写，在此基础上，给第二个样式表再加一个class权重。

**`!important`**

```css
font-size:60px !important;
```

- `!important`提升的是一个属性而不是一个选择器
- `!important`无法提升继承的属性，应该写在直接作用的标签里面
- `!important`不影响就近原则

## 盒模型

![标准盒子模型](.\picture\CSSBoxModel.jpg)

CSS盒模型和IE盒模型的区别：

- 在 **标准盒子模型**中，width 和 height 指的是内容区域的宽度和高度。增加内边距、边框和外边距不会影响内容区域的尺寸，但是会增加元素框的总尺寸。
- **IE盒子模型**中，width 和 height 指的是内容区域+border+padding的宽度和高度。



网页最大的盒子是`<document>`与`<body>`之间的margin是8px，所以`<body>`不是占据了页面全部。

- **小属性迭代大属性**，反之则无效

```css
padding: 20px;
padding-left: 30px;
```

上面左侧padding可以迭代覆盖成30px，先写padding-left则不行。

- 盒模型的每个属性都可以拆分成三个方向的小属性：

```css
border: 10px solid red;
border-width:10px;    //边框宽度
border-style:solid;   //线型
border-color:red;     //颜色。
```

- ⭐️ 属性
  - 单位
    - px
    - em
    - rem
    - vw
    - vh
  - 背景
  - 文本
  - 字体
  - 列表
  - 表格
- ⭐️ 文档流
  - 标准流
  - 浮动流
  - 定位流
- ⭐️ 浮动
  - 设置浮动 float
  - 清除浮动 clear
- ⭐️ 定位
  - static
  - absolute
  - fixed
  - relative
  - sticky
- ⭐️ 层叠规则
- ❗ BFC 和 IFC 机制
- CSS3
  - ⭐️ 响应式布局
    - 媒体查询
    - Flex 布局
    - Grid 布局
    - 瀑布流
  - 动画
  - 过渡
  - 渐变
  - 背景
  - 边框
  - 圆角
  - 字体
  - 2D / 3D 转换

## 浏览器的兼容性问题

> 可以用`IETester`这个软件测一下 CSS 在各个版本 IE 浏览器上的显示效果。

为了测试浏览器 CSS 3 的兼容性，可以在网上搜"css3 机器猫"关键字，然后在不同的浏览器中打开如下链接：

- http://www1.pconline.com.cn/pcedu/specialtopic/css3-doraemon/

坚持**渐进增强**的原则：**让低版本浏览器能正常访问页面，高版本的浏览器用户体验更好**。

#### 各种选择器(浏览器兼容性)

IE6层面兼容的选择器： 标签选择器、id选择器、类选择器、后代、交集选择器、并集选择器、通配符。如下：

```text
p
#box
.spec
div p
div.spec
div,p
*
```

IE7能够兼容的：儿子选择器、下一个兄弟选择器。如下：

```text
div>p
h3+p
```

IE8能够兼容的：

```text
ul li:first-child
ul li:last-child
```

#### 渐进增强和优雅降级

**渐进增强（Progressive Enhancement）**（向上兼容）：一开始就针对低版本浏览器进行构建页面，完成基本的功能，然后再针对高级浏览器进行效果、交互、追加功能达到更好的体验。

**优雅降级（Graceful Degradation）**（向下兼容）：一开始就构建站点的完整功能，然后针对浏览器测试和修复

参考链接：

- [渐进增强 VS 优雅降级 | 简书](https://www.jianshu.com/p/d313f1108862)
- [渐进增强和优雅降级之间的不同（面试题目）](https://www.cnblogs.com/iceflorence/archive/2017/03/27/6625466.html)

选择哪种开发方式主要取决于客户端的用户主要是哪种类型，如果年轻人居多，客户端版本高占比高就选择优雅降级方式；反之，低版本客户端占比高，为了保证内容显示优先，选择渐进增强的方式。